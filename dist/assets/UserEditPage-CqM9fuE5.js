import{K as R,V as J,r as u,j as e,B as m,T as o,P as v}from"./index-DapPSqkX.js";import{P as $}from"./PageHeader-DvVnRh87.js";import{A as z}from"./ArrowBack-a9iSE2m9.js";import{G as i}from"./Grid-CPSxYhdU.js";import{A as H}from"./Avatar-D4HTpUOX.js";import{C as k}from"./Chip-CHV1y0-E.js";import{D}from"./Divider-CMOysGRf.js";import{B as h}from"./Button-YxhmxFvi.js";import{D as O}from"./Delete-Dmpzfcgd.js";import{T as x,F as f,a as b,S}from"./TextField-BHPdJsMX.js";import{M as s}from"./MenuItem-DGSQlEky.js";import{F as I,S as U}from"./Switch-Bvqj0lg1.js";import{C as G,S as Y}from"./Save-Dx1KJqTD.js";import"./dividerClasses-9KRWo7Qr.js";const K=[{id:1,name:"John Doe",email:"john.doe@example.com",role:"Admin",status:"active",avatar:"JD",lastLogin:"2024-01-15 10:30",createdAt:"2023-06-15",phone:"+1 (555) 123-4567",department:"IT",location:"New York, NY",bio:"Senior IT Administrator with 8+ years of experience in system administration and user management."},{id:2,name:"Jane Smith",email:"jane.smith@example.com",role:"User",status:"active",avatar:"JS",lastLogin:"2024-01-14 15:45",createdAt:"2023-08-20",phone:"+1 (555) 234-5678",department:"Marketing",location:"Los Angeles, CA",bio:"Marketing Specialist focused on digital campaigns and brand development."},{id:3,name:"Mike Johnson",email:"mike.johnson@example.com",role:"Manager",status:"inactive",avatar:"MJ",lastLogin:"2024-01-10 09:15",createdAt:"2023-09-10",phone:"+1 (555) 345-6789",department:"Sales",location:"Chicago, IL",bio:"Sales Manager with expertise in B2B sales and team leadership."},{id:4,name:"Sarah Wilson",email:"sarah.wilson@example.com",role:"User",status:"pending",avatar:"SW",lastLogin:"Never",createdAt:"2024-01-12",phone:"+1 (555) 456-7890",department:"HR",location:"Austin, TX",bio:"HR Coordinator specializing in recruitment and employee relations."},{id:5,name:"David Brown",email:"david.brown@example.com",role:"User",status:"active",avatar:"DB",lastLogin:"2024-01-13 14:20",createdAt:"2023-11-05",phone:"+1 (555) 567-8901",department:"Finance",location:"Seattle, WA",bio:"Financial Analyst with strong background in budgeting and financial planning."}],ce=()=>{const g=R(),{id:p}=J(),[d,w]=u.useState(null),[a,j]=u.useState({firstName:"",lastName:"",email:"",phone:"",role:"User",department:"",status:"pending",avatar:"",location:"",bio:"",isActive:!0,sendEmailNotification:!1}),[n,C]=u.useState({}),[N,A]=u.useState(!1),[B,y]=u.useState(!1);u.useEffect(()=>{const t=parseInt(p||"1"),r=K.find(c=>c.id===t);if(r){w(r);const[c,...M]=r.name.split(" "),P=M.join(" ");j({firstName:c||"",lastName:P||"",email:r.email,phone:r.phone||"",role:r.role,department:r.department||"",status:r.status,avatar:r.avatar,location:r.location||"",bio:r.bio||"",isActive:r.status==="active",sendEmailNotification:!1})}},[p]);const l=(t,r)=>{j(c=>({...c,[t]:r})),n[t]&&C(c=>({...c,[t]:void 0}))},T=()=>{const t={};return a.firstName.trim()||(t.firstName="First name is required"),a.lastName.trim()||(t.lastName="Last name is required"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(t.email="Please enter a valid email address"):t.email="Email is required",a.phone.trim()||(t.phone="Phone number is required"),a.role||(t.role="Role is required"),a.department.trim()||(t.department="Department is required"),C(t),Object.keys(t).length===0},W=async()=>{T()&&(A(!0),setTimeout(()=>{console.log("Updating user:",a),A(!1),g(`/users/${p}`)},1500))},E=()=>{y(!0)},F=()=>{setTimeout(()=>{console.log("Deleting user:",d==null?void 0:d.id),g("/users")},1e3)},L=()=>{const t=`${a.firstName.charAt(0)}${a.lastName.charAt(0)}`.toUpperCase();j(r=>({...r,avatar:t}))},q=t=>{switch(t){case"active":return"success";case"inactive":return"error";case"pending":return"warning";default:return"default"}};return d?e.jsxs(m,{sx:{marginLeft:0,width:"100%"},children:[e.jsx($,{title:"Edit User",breadcrumbs:`Dashboard / Users / ${d.name} / Edit`,subtitle:"Update user information and settings",actionButton:{text:"Back to User",icon:e.jsx(z,{}),onClick:()=>g(`/users/${p}`)}}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,md:4,children:e.jsxs(v,{sx:{p:3,textAlign:"center"},children:[e.jsx(H,{sx:{width:120,height:120,bgcolor:"primary.main",fontSize:"2.5rem",mx:"auto",mb:2},children:a.avatar}),e.jsxs(o,{variant:"h5",gutterBottom:!0,children:[a.firstName," ",a.lastName]}),e.jsx(o,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:a.email}),e.jsxs(m,{sx:{display:"flex",gap:1,justifyContent:"center",mb:2},children:[e.jsx(k,{label:a.role,color:"primary",size:"small",variant:"outlined"}),e.jsx(k,{label:a.status,color:q(a.status),size:"small"})]}),e.jsx(D,{sx:{my:2}}),e.jsxs(m,{sx:{textAlign:"left"},children:[e.jsx(o,{variant:"subtitle2",gutterBottom:!0,children:"Quick Actions"}),e.jsx(h,{variant:"outlined",onClick:L,disabled:!a.firstName||!a.lastName,fullWidth:!0,sx:{mb:1},children:"Regenerate Avatar"}),e.jsx(h,{variant:"outlined",color:"error",onClick:E,fullWidth:!0,startIcon:e.jsx(O,{}),children:"Delete User"})]})]})}),e.jsx(i,{item:!0,xs:12,md:8,children:e.jsxs(v,{sx:{p:3},children:[e.jsx(o,{variant:"h6",gutterBottom:!0,children:"User Information"}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsx(x,{fullWidth:!0,label:"First Name",value:a.firstName,onChange:t=>l("firstName",t.target.value),error:!!n.firstName,helperText:n.firstName,required:!0})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsx(x,{fullWidth:!0,label:"Last Name",value:a.lastName,onChange:t=>l("lastName",t.target.value),error:!!n.lastName,helperText:n.lastName,required:!0})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(x,{fullWidth:!0,label:"Email Address",type:"email",value:a.email,onChange:t=>l("email",t.target.value),error:!!n.email,helperText:n.email,required:!0})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(x,{fullWidth:!0,label:"Phone Number",value:a.phone,onChange:t=>l("phone",t.target.value),error:!!n.phone,helperText:n.phone,required:!0})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(x,{fullWidth:!0,label:"Location",value:a.location,onChange:t=>l("location",t.target.value)})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(x,{fullWidth:!0,label:"Bio",multiline:!0,rows:3,value:a.bio,onChange:t=>l("bio",t.target.value)})})]}),e.jsx(D,{sx:{my:3}}),e.jsx(o,{variant:"h6",gutterBottom:!0,children:"Account Settings"}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(f,{fullWidth:!0,required:!0,error:!!n.role,children:[e.jsx(b,{children:"Role"}),e.jsxs(S,{value:a.role,label:"Role",onChange:t=>l("role",t.target.value),children:[e.jsx(s,{value:"User",children:"User"}),e.jsx(s,{value:"Manager",children:"Manager"}),e.jsx(s,{value:"Admin",children:"Admin"})]})]})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(f,{fullWidth:!0,required:!0,error:!!n.department,children:[e.jsx(b,{children:"Department"}),e.jsxs(S,{value:a.department,label:"Department",onChange:t=>l("department",t.target.value),children:[e.jsx(s,{value:"IT",children:"IT"}),e.jsx(s,{value:"Marketing",children:"Marketing"}),e.jsx(s,{value:"Sales",children:"Sales"}),e.jsx(s,{value:"HR",children:"HR"}),e.jsx(s,{value:"Finance",children:"Finance"}),e.jsx(s,{value:"Operations",children:"Operations"})]})]})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(f,{fullWidth:!0,children:[e.jsx(b,{children:"Status"}),e.jsxs(S,{value:a.status,label:"Status",onChange:t=>l("status",t.target.value),children:[e.jsx(s,{value:"active",children:"Active"}),e.jsx(s,{value:"inactive",children:"Inactive"}),e.jsx(s,{value:"pending",children:"Pending"})]})]})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsx(I,{control:e.jsx(U,{checked:a.isActive,onChange:t=>l("isActive",t.target.checked)}),label:"Account Active"})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(I,{control:e.jsx(U,{checked:a.sendEmailNotification,onChange:t=>l("sendEmailNotification",t.target.checked)}),label:"Send email notification about changes"})})]}),e.jsxs(m,{sx:{display:"flex",gap:2,mt:4},children:[e.jsx(h,{variant:"outlined",onClick:()=>g(`/users/${p}`),startIcon:e.jsx(G,{}),children:"Cancel"}),e.jsx(h,{variant:"contained",onClick:W,disabled:N,startIcon:e.jsx(Y,{}),children:N?"Saving...":"Save Changes"})]})]})})]}),B&&e.jsx(m,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs(v,{sx:{p:3,maxWidth:400,width:"100%",mx:2},children:[e.jsx(o,{variant:"h6",gutterBottom:!0,children:"Delete User"}),e.jsxs(o,{variant:"body2",color:"textSecondary",sx:{mb:3},children:["Are you sure you want to delete ",d.name,"? This action cannot be undone."]}),e.jsxs(m,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[e.jsx(h,{variant:"outlined",onClick:()=>y(!1),children:"Cancel"}),e.jsx(h,{variant:"contained",color:"error",onClick:F,children:"Delete"})]})]})})]}):e.jsx(m,{sx:{p:3},children:e.jsx(o,{variant:"h6",children:"User not found"})})};export{ce as default};
//# sourceMappingURL=UserEditPage-CqM9fuE5.js.map
